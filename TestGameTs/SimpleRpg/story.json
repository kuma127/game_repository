{"inkVersion":19,"root":[[{"->":"start"},["done",{"#n":"g-0"}],null],"done",{"start":[["^あなたは冒険者です。古い城の前に立っています。","\n","ev",{"f()":"showStatus"},"pop","/ev","\n","ev","str","^城に入る","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^街に戻る","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"castle_entrance"},"\n",null],"c-1":["^ ",{"->":"town"},"\n",null]}],null],"town":[["^街の広場に戻りました。","\n","ev",{"f()":"showStatus"},"pop","/ev","\n","ev","str","^宿屋で休む(20ゴールド)","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^武器屋に行く","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^城に向かう","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["^ ",{"->":"inn"},"\n",null],"c-1":["^ ",{"->":"weapon_shop"},"\n",null],"c-2":["^ ",{"->":"castle_entrance"},"\n",null]}],null],"inn":["ev",{"VAR?":"playerGold"},20,">=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"playerGold"},20,"-","/ev",{"VAR=":"playerGold","re":true},"ev",100,"/ev",{"VAR=":"playerHealth","re":true},"^宿屋で一晩休みました。体力が全回復しました!","\n","ev",{"f()":"showStatus"},"pop","/ev","\n",{"->":"town"},{"->":"inn.7"},null]}],[{"->":".^.b"},{"b":["\n","^お金が足りません...","\n","ev",{"f()":"showStatus"},"pop","/ev","\n",{"->":"town"},{"->":"inn.7"},null]}],"nop","\n",null],"weapon_shop":[["^武器屋の店主が話しかけてきます。","\n","^「いらっしゃい!良い剣があるよ」","\n","ev","str","^剣を買う(30ゴールド)","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^立ち去る","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"buy_sword"},"\n",null],"c-1":["^ ",{"->":"town"},"\n",null]}],null],"buy_sword":["ev",{"VAR?":"playerGold"},30,">=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"playerGold"},30,"-","/ev",{"VAR=":"playerGold","re":true},"ev",1,"/ev",{"VAR=":"hasSword","re":true},"^剣を手に入れました!これで戦いが有利になるでしょう。","\n",{"->":"town"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","^お金が足りません...","\n",{"->":"town"},{"->":".^.^.^.7"},null]}],"nop","\n",null],"castle_entrance":[["^城の入口です。重い扉が閉まっています。","\n","ev",{"f()":"showStatus"},"pop","/ev","\n","ev","str","^扉を開けて中に入る","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^戻る","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"castle_hall"},"\n",null],"c-1":["^ ",{"->":"town"},"\n",null]}],null],"castle_hall":[["^大広間に入りました。薄暗い廊下が奥へ続いています。","\n","ev","str","^左の部屋へ","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^右の部屋へ","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^外に出る","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["^ ",{"->":"treasure_room"},"\n",null],"c-1":["^ ",{"->":"dragon_room"},"\n",null],"c-2":["^ ",{"->":"castle_entrance"},"\n",null]}],null],"treasure_room":["^宝物庫を見つけました!","\n","ev",{"VAR?":"hasKey"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^古い鍵を見つけました。","\n","ev",1,"/ev",{"VAR=":"hasKey","re":true},{"->":"castle_hall"},{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n","^空の宝箱があるだけです。","\n",{"->":"castle_hall"},{"->":".^.^.^.9"},null]}],"nop","\n",null],"dragon_room":["ev",{"VAR?":"dragonDefeated"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^巨大なドラゴンが現れた!","\n","ev","str","^戦う","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^逃げる","/str","/ev",{"*":".^.c-1","flg":4},{"->":".^.^.^.7"},{"c-0":["^ ",{"->":"fight_dragon"},"\n",null],"c-1":["^ ",{"->":"castle_hall"},"\n",null]}]}],[{"->":".^.b"},{"b":["\n","^ドラゴンを倒した部屋です。静かです。","\n",{"->":"castle_hall"},{"->":".^.^.^.7"},null]}],"nop","\n",null],"fight_dragon":["^ドラゴンとの戦い!","\n","ev",{"VAR?":"hasSword"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"playerHealth"},20,"-","/ev",{"VAR=":"playerHealth","re":true},"^剣のおかげでダメージを軽減できた!","\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"playerHealth"},30,"-","/ev",{"VAR=":"playerHealth","re":true},{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"VAR?":"playerHealth"},0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","^激しい戦いの末、ドラゴンを倒しました!","\n","ev",1,"/ev",{"VAR=":"dragonDefeated","re":true},"ev",{"VAR?":"playerGold"},100,"+","/ev",{"VAR=":"playerGold","re":true},"^100ゴールドを手に入れた!","\n","ev",{"f()":"showStatus"},"pop","/ev","\n",{"->":"victory"},{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["\n","^あなたは倒れてしまいました...","\n",{"->":"game_over"},{"->":".^.^.^.16"},null]}],"nop","\n",null],"victory":["^おめでとうございます!ドラゴンを倒し、平和を取り戻しました!","\n","^最終HP: ","ev",{"VAR?":"playerHealth"},"out","/ev","\n","^最終ゴールド: ","ev",{"VAR?":"playerGold"},"out","/ev","\n","end",null],"game_over":["^GAME OVER","\n","^あなたの冒険はここで終わりました...","\n","^最終HP: ","ev",{"VAR?":"playerHealth"},"out","/ev","\n","^最終ゴールド: ","ev",{"VAR?":"playerGold"},"out","/ev","\n","end",null],"showStatus":["^HP: ","ev",{"VAR?":"playerHealth"},"out","/ev","\n","^ゴールド: ","ev",{"VAR?":"playerGold"},"out","/ev","\n","ev","void","/ev","~ret",null],"global decl":["ev",100,{"VAR=":"playerHealth"},50,{"VAR=":"playerGold"},0,{"VAR=":"hasKey"},0,{"VAR=":"hasSword"},0,{"VAR=":"dragonDefeated"},"/ev","end",null]}],"listDefs":{}}